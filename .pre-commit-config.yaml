repos:
  - repo: https://github.com/psf/black
    rev: 25.11.0
    hooks:
      - id: black
        language_version: python3

  - repo: https://github.com/PyCQA/isort
    rev: 7.0.0
    hooks:
      - id: isort
        name: isort (python)
        language_version: python3

  - repo: https://github.com/pycqa/flake8
    rev: 7.3.0
    hooks:
      - id: flake8
        args: ["--max-line-length=120"]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.18.2
    hooks:
      - id: mypy
        args: ["--ignore-missing-imports"]

  - repo: https://github.com/PyCQA/bandit
    rev: 1.9.0
    hooks:
      - id: bandit
        # Limit bandit scan to project source dirs and exclude virtualenvs
        args: ["-r", "config", "core", "scripts", "templates", "manage.py", "--exclude", ".venv"]
        pass_filenames: false

  - repo: local
    hooks:
      - id: django-tests
        name: Run Django tests
        entry: python manage.py test
        language: system
        types: [python]
        pass_filenames: false
