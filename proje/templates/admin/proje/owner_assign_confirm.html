{% extends "admin/change_form.html" %}
{% load i18n %}

{% block content %}
  <h1 class="mb-3">Assign selected owners to Group</h1>

  <form method="post">
    {% csrf_token %}
    <div class="card">
      <div class="card-body">
        <p class="mb-2">Selected owners:</p>
        <ul>
          {% for owner in owners %}
            <li>{{ owner }} â€” {{ owner.email }}</li>
            <input type="hidden" name="_selected_action" value="{{ owner.pk }}" />
          {% endfor %}
        </ul>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Group</label>
          <div class="col-sm-9">{{ group_form.group }}</div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Dry run</label>
          <div class="col-sm-9"><input type="checkbox" name="dry_run" class="form-check-input" /></div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Report file (optional)</label>
          <div class="col-sm-9"><input type="text" name="report_file" placeholder="reports/owners_assign.csv" class="form-control" /></div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Report format</label>
          <div class="col-sm-9">
            <select name="report_format" class="form-control">
              <option value="csv">CSV</option>
              <option value="json">JSON</option>
            </select>
          </div>
        </div>

        <div class="mt-3">
          <button class="btn btn-primary" name="confirm" type="submit">Confirm and execute</button>
          <a class="btn btn-secondary" href="..">Cancel</a>
        </div>
      </div>
    </div>
  </form>

{% endblock %}
