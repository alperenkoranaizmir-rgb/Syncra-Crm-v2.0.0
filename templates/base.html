{% extends 'adminlte/base.html' %}
{% load static %}

{% block title %}Syncra CRM{% endblock %}

{# Inject local vendor CSS used by our templates (icons, overlayscrollbars) #}
{% block extra_css %}
    {# Fallback favicon (SVG) served from static #}
    <link rel="icon" type="image/svg+xml" href="{% static 'favicon.svg' %}">
    {# Ensure FontAwesome (used by many AdminLTE examples) is available #}
    <link rel="stylesheet" href="{% static 'admin-lte/plugins/fontawesome-free/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'admin-lte/plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/pixel_perfect.css' %}">
{% endblock %}

{# Provide necessary JS hooks; adminlte/base.html will include its core scripts, we add local vendors #}
{% block extra_js %}
    <script src="{% static 'admin-lte/plugins/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/chart.js/Chart.min.js' %}"></script>
    {# AdminLTE plugin JS (select2, bs-custom-file-input, inputmask, colorpicker, duallistbox, bootstrap-switch) #}
    <script src="{% static 'admin-lte/plugins/select2/js/select2.full.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/bs-custom-file-input/bs-custom-file-input.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/inputmask/jquery.inputmask.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/moment/moment.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    {{ block.super }}
    {# SweetAlert2 + Toastr for popup alerts like AdminLTE demo #}
    <script src="{% static 'admin-lte/plugins/sweetalert2/sweetalert2.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/toastr/toastr.min.js' %}"></script>

    <script>
        (function(){
            // initialize common plugins used by form demos
            if (window.bsCustomFileInput) {
                try { bsCustomFileInput.init(); } catch(e) {}
            }
            try { $('.select2').select2(); } catch(e) {}
            try { $("[data-mask]").inputmask(); } catch(e) {}
            try { $('.duallistbox').bootstrapDualListbox(); } catch(e) {}
            try { $(".colorpicker").each(function(){ $(this).colorpicker(); }); } catch(e) {}
            try { $(".datetimepicker").datetimepicker(); } catch(e) {}
            try { $("input[data-bootstrap-switch]").each(function(){ $(this).bootstrapSwitch('state', $(this).prop('checked')) }); } catch(e) {}

            // Helper functions to show demo alerts
            window.syncraAlert = {
                toastSuccess: function(msg){
                    toastr.success(msg, '', {positionClass: 'toast-top-right'});
                },
                toastError: function(msg){
                    toastr.error(msg, '', {positionClass: 'toast-top-right'});
                },
                modalConfirm: function(title, text, callback){
                    Swal.fire({
                        title: title,
                        text: text,
                        icon: 'question',
                        showCancelButton: true,
                        confirmButtonText: 'Evet',
                        cancelButtonText: 'HayÄ±r'
                    }).then(function(result){ if (result.isConfirmed) callback(); });
                }
            };
        })();
    </script>
{% endblock %}

{# Child templates should still implement a `content` block as before. #}
